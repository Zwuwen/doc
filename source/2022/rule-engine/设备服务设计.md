# 设备服务设计

## 设备知识管理
>智盒服务提供知识的添加、删除、查询接口(目前只实现了知识查询接口),设备根据自身的运行状态和所具有的知识来产生事件,并上报给规则引擎和平台。
### 事件格式
>设备通过知识产生的事件格式如下

### 设备知识格式
>目前每个设备的知识固化在xml文件中。格式如下

## 定时策略
### 对外接口
>每个设备提供添加、删除定时策略的服务
#### 定时策略的格式：
#### 添加定时策略
#### 删除定时策略
#### 查询定时策略
### 运行逻辑
>自动模式下设备服务每分钟检查一次自身的定时策略，如果当前时间点在某个定时策略的时间范围内，则向规则引擎发送定时开始事件,反之则向规则引擎发送默认定时事件.
#### 定时事件的格式
### 自动模式下的手动控制
>设备在自动模式下,用户向设备服务发送业务指令，则设备服务会向规则引擎发送手动控制事件.
#### 手动控制事件格式